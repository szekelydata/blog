<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-57335320-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-57335320-2');
    </script>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="content-Type" content="text/html; charset=utf-8" />
    <meta name="description"
        content="T√©rk√©pre helyezt√ºk a sz√©kelyf√∂ldi medvet√°mad√°sokat. #medve #medveterkep #medveradar #szekelydata #szekelyland #dataviz @csaladenes" />
    <meta name="keywords"
        content="csaladenes, d3.js, data visualization, infographic, d3plus, d3, echarts, leaflet, map, terkep, bear map, bear, medveterkep, bear attack, medvetamadas, szekelyland, szekelydata, romania, transylvania, erdely" />
    <meta property="og:image" content="https://medve.csaladen.es/snapshot.png" />
    <meta property="twitter:image" content="https://medve.csaladen.es/snapshot.png" />
    <meta property="og:description"
        content="T√©rk√©pre helyezt√ºk a sz√©kelyf√∂ldi medvet√°mad√°sokat. #medve #medveterkep #medveradar #szekelydata #szekelyland #dataviz @csaladenes" />
    <meta property="twitter:description"
        content="T√©rk√©pre helyezt√ºk a sz√©kelyf√∂ldi medvet√°mad√°sokat. #medve #medveterkep #medveradar #szekelydata #szekelyland #dataviz @csaladenes" />
    <meta property="og:title" content="üêª Medvet√©rk√©p | sz√©kelydata" />
    <meta property="twitter:title" content="üêª Medvet√©rk√©p | sz√©kelydata" />
    <meta http-equiv="content-Type" content="text/html; charset=utf-8" />
    <meta property="og:url" content="http://csaladenes.egologo.ro/?p=1721" />
    <meta property="twitter:url" content="http://csaladenes.egologo.ro/?p=1721" />
    <meta property="og:site_name" content="sz√©kelydata" />
    <meta property="fb:admins" content="100943737036023614165" />
    <link rel="shortcut icon" href="https://szekelydata.csaladen.es/favicon.ico" />
    <link rel="publisher" href="https://plus.google.com/106181965793093327960" />
    <link rel="shortcut icon" href="https://szekelydata.csaladen.es/blog/favicon.ico" />

    <link rel="stylesheet" href="js/leaflet.css" crossorigin="" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.0/css/all.css"
        integrity="sha384-Mmxa0mLqhmOeaE8vgOSbKacftZcsNYDjQzuCOm6D02luYSzBG8vpaOykv9lFQ51Y" crossorigin="anonymous">
    <script src="https://www.google.com/jsapi"></script>
    <script src="js/d3-fetch.v1.min.js"></script>
    <script src="js/d3-selection.v1.min.js"></script>
    <script src="js/echarts.min.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/echarts-leaflet.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<body>
    <style>
        @import url(//fonts.googleapis.com/css?family=Lato:300,400,700);

        html,
        body {
            font-family: 'Lato', Calibri, Arial, sans-serif;
            background-color: none;
            font-weight: 400;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            color: rgb(56, 37, 26);
            overflow: hidden;
        }

        a {
            color: rgb(56, 37, 26);
            font-weight: bold;
            text-decoration: none;
        }

        #main {
            width: calc(100% - 350px);
            height: 100%;
            position: fixed;
            top: 0;
            left: 350px;
            border-left: 5px solid #7F7F7F;
        }

        #chart {
            position: absolute;
            left: 0;
            top: 0;
            width: 80%;
            height: 100%;
            opacity: 0.8;
        }

        #chart2 {
            position: absolute;
            right: 0;
            top: 0;
            width: 20%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            border-left: 1px solid #7F7F7F;
        }

        #nav {
            width: 348px;
            height: 100%;
            padding: 0px;
            position: fixed;
            top: 0;
            opacity: 0.9;
            background: #9EA8B1;
            border-right: 2px solid black;
            left: 0px;
        }

        video {
            position: fixed;
            left: -20%;
            top: 0%;
            opacity: 0;
            min-width: 120%;
            min-height: 100%;
            transition: opacity 0.5s;
            -webkit-transition: opacity 0.5s;
        }

        #bga {
            width: 100%;
            height: 80%;
            padding: 0px;
            position: fixed;
            top: 0;
            left: 0px;
            opacity: 0;
            background: linear-gradient(to bottom, rgba(256, 256, 256, 1), rgba(256, 256, 256, 0.2));
        }

        #logo {
            position: absolute;
            left: 15%;
            top: 10px;
        }

        #footer {
            position: absolute;
            left: 0;
            bottom: 20px;
        }

        #ddate {
            padding-top: 12px;
        }

        #footer2 {
            position: absolute;
            left: 0;
            height: 21px;
            background-color: rgb(173, 142, 106);
            width: 100%;
            bottom: 0px;
        }

        #mysearch {
            left: 0px;
            width: 100%;
            z-index: 99;
            /* text-shadow: 1px 1px 1px black; */
        }

        #table {
            position: absolute;
            left: 5%;
            top: 150px;
            width: 92%;
            /* text-shadow: 1px 1px 1px black; */
        }

        #image {
            width: 110px;
            height: 73px;
            border: solid 1px rgb(56, 37, 26);
        }

        i {
            width: 25px;
        }

        #search {
            height: 20px;
        }

        #tc {
            padding-bottom: 10px;

        }

        .head {
            font-size: 17px;
            /* padding-left: 110px; */
        }

        #contribute {
            position: absolute;
            right: 24px;
            bottom: 80px;
            font-size: 24px;
        }

        #social {
            font-size: 24px;
        }

        #navi {
            position: absolute;
            right: 0px;
            top: 8px;
            font-size: 24px;
        }

        #looking {
            position: absolute;
            left: 13px;
            top: 13px;
            font-size: 18px;
        }

        #radar {
            position: absolute;
            left: 15px;
            font-size: 17px;
            bottom: 33px;

        }

        #radar2 {
            position: absolute;
            left: 15px;
            font-size: 14px;
            bottom: 10px;
            text-shadow: 1px 1px 1px black;
        }

        #navi i:hover {
            text-shadow: 1px 1px 3px black;
        }

        #legend {
            position: absolute;
            left: 355px;
            font-size: 17px;
            bottom: 0px;
            background: linear-gradient(to right, rgba(256, 256, 256, 1), rgba(256, 256, 256, 0));
            /* background-color: rgba(256, 256, 256, 0.5); */
            /* border: solid 1px rgb(56, 37, 26); */
            padding: 5px;
            padding-left: 15px;
            padding-bottom: 15px;

        }

        #center {
            position: absolute;
            left: 410px;
            font-size: 18px;
            top: 10px;
            color: rgb(83, 56, 40);
            font-weight: bold;
            text-shadow: 1px 1px 1px black;
        }

        #radar a,
        input {
            color: rgb(83, 56, 40);
            text-shadow: 1px 1px 2px black;
        }

        #contribute a {
            color: rgb(83, 56, 40);
            text-shadow: 1px 1px 2px black;
        }

        #home {
            font-size: 17px;
            background: #fff;
            padding: 5px 0px 5px 5px;
        }

        #home:hover {
            cursor: pointer;
            background: #eee;
        }

        svg:hover,
        #navi:hover {
            cursor: pointer;
        }

        svg text {
            font-size: 0.9em;
            font-weight: 'bold';
        }

        #myInput {
            /* Do not repeat the icon image */
            width: 100%;
            /* Full-width */
            font-size: 18px;
            /* Increase font-size */
            padding: 12px 20px 8px 40px;
            /* Add some padding */
            /* border: 1px solid #ddd; */
            /* Add a grey border */
            margin-bottom: 15px;
            background-color: rgb(189, 203, 216);
            /* Add some space below the input */
            /* z-index: 50; */
        }

        #myUL {
            /* Remove default list styling */
            list-style-type: none;
            padding: 0;
            margin: 0;
            margin-top: -12px;
            margin-left: 1px;
            display: none;
            position: absolute;
            height: 300px;
            overflow-y: auto;
            width: 99%;
        }

        #myUL li a {
            border: 1px solid #ddd;
            /* Add a border to all links */
            margin-top: -1px;
            /* Prevent double borders */
            background-color: rgb(189, 203, 216);
            /* Grey background color */
            padding: 4px;
            /* Add some padding */
            text-decoration: none;
            /* Remove default text underline */
            font-size: 18px;
            /* Increase the font-size */
            /* Add a black text color */
            display: block;
            text-shadow: 1px 1px 2px black;
            /* z-index: 50; */
            /* Make it into a block element to fill the whole list */
        }

        #myUL li a:hover:not(.header) {
            background-color: #eee;
            /* Add a hover effect to all links, except for headers */
        }

        #content ul li {
            width: 270px;
            word-wrap: break-word;
        }
    </style>
    <div id='bga'></div>
    <div id='nav'>
        <div id='footer2'>&nbsp;</div>
        <div id='radar'>
            <a href='radar/' target='_blank'>Medv√©t l√°tt√°l? Jelezd a Medveradaron&nbsp;&nbsp;<i
                    class="fas fa-wifi"></i></a>
        </div>
        <div id='radar2'>
            <a href='data/' target='_blank'>Hib√°t tal√°lt√°l? Jav√≠tsd ki!&nbsp;&nbsp;<i class="fas fa-table"></i></a>
            <a href='https://github.com/szekelydata/medveterkep/issues' target='_blank'>Nem m≈±k√∂dik? &nbsp;&nbsp;<i
                    class="fab fa-github"></i></a>
        </div>
        <div id='table'>
            <div id='mysearch'>
                <input type="text" id="myInput" placeholder="Keres√©s...">
                <ul id="myUL">
                </ul>
            </div>
            <a id='sourcelink' href='' target='_blank'>
                <table id='desc'>
                    <tr>
                        <td rowspan='3' style='width:115px;'>
                            <img id='image' src='' style='margin-left:1px;'>
                        </td>

                        <td class='head' id='ddate'><i class="fas fa-clock"></i><b id='date'></b></td>
                    <tr>
                        <td id='tb' class='head'><i class="fas fa-paw"></i><b id='severity'></b></td>
                    </tr>
                    <tr>
                        <td id='tc' class='head'><i class="fas fa-at"></i><b id='source'></b></td>
                    </tr>
                </table>
            </a>
            <table id='desc2'>
                <tr>
                    <td colspan='1'><b id='title'></b></td>
                </tr>
                <tr>
                    <td colspan='1' id='content'></td>
                </tr>
            </table>
            <div id='navi'>
                <i class="fas fa-caret-left" id='left'></i>
                <i class="fas fa-caret-right" id='right'></i></a>
            </div>
            <div id='looking'>
                <i class="fas fa-search"></i></a>
            </div>
        </div>
        <div id='contribute'>
            <a href="#" id='fb' class='text'
                onclick="window.open('https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),'facebook-share-dialog','width=626,height=436');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href='' id='tw' target='_blank' class='text'>
                <i class="fab fa-twitter"></i>
            </a>&nbsp;
            <a id='help' href='http://csaladenes.egologo.ro/?p=1721' class='text' target='_blank' title='Le√≠r√°s'>
                <i class="fas fa-question"></i>
            </a>
        </div>
    </div>

    <div id='main'>
        <div id='chart'></div>
        <div id='chart2'></div>
    </div>
    <div id='center'></div>
    <script>
        google.load("visualization", "1");
        google.setOnLoadCallback(init);

        function init() {

            var tweet =
                'https://medve.csaladen.es #medveterkep #medveradar #szekelydata #dataviz @csaladenes'
            var query_type = 'data'
            var home = [25.82, 46.36];
            var form_coords = '46.30000, 25.70000';
            var home_center = [25.3, 46.4];
            var home_title = 'Medvet√©rk√©p';
            var home_zoom = 9;
            var geo_jitter_s = 0.005; //coordinate randomizer
            var sheet_severity = {
                'Medv√©t l√°ttam a k√∂rny√©ken': 2,
                '√Ållatokra t√°madt': 3,
                'Emberre t√°madt': 4,
                '√Ållatokra t√°madott': 3,
                'Emberre t√°madott': 4,
                'Emberi √°ldozat': 5,
                'Medvepolitikai d√∂nt√©s vagy esem√©ny': 0,
                'Medv√©re utal√≥ nyomot l√°ttam': 1
            }
            var leiras = ['M√°s esem√©ny',
                'Medvenyom',
                'Medv√©t l√°ttak',
                '√Ållatokra t√°madt',
                'Emberre t√°madt',
                'Ember√°ldozat'
            ];
            var colors = ['#35978f', '#7ABC74', '#80cdc1', '#dfc27d', '#8c510a', '#543005'];
            var symbols = { 'Sz√©kelyhon': 'circle', 'Vadk√°rok HR': 'triangle' };
            var z = 4; //index of params
            var today = new Date()
            var year = new Date().setDate(today.getDate() - 30) //'2019-03'; //min date to show ripple
            var minyear = '2006'; //absolute min year for all points
            var zoom = [60, 100] //starting zoom scale in percent of scale (60% about 2014-01)
            var counter = 0; //init counter for first point to show on load
            var friss = '2020.01.28'
            var verzio = '1.2.2'
            var date_options = {
                year: "numeric",
                month: "long",
                day: "numeric"
            };
            var date_options2 = {
                year: "numeric",
                month: "numeric",
                day: "numeric"
            };
            var map_zoom = 12; //default map zoom on load
            var min_label_opc = 0.3; //turned off label opacity
            var small_symbol = 7;
            var large_symbol = 20;

            function data_to_lists(ColumnNames, DataArray) {
                return [ColumnNames].concat(DataArray)
            }

            function data_lists_to_object_array(data) {
                var dummy = [];
                var keys = data[0]
                for (i = 1; i < data.length; i++) {
                    var d = {};
                    for (j = 0; j < keys.length; j++) {
                        d[keys[j]] = data[i][j];
                    }
                    dummy.push(d);
                }
                return dummy
            }

            function geo_jitter(geoCoord, s) {
                return [geoCoord[0] + (Math.random() - 0.5) * s, geoCoord[1] + (Math.random() - 0.5) * s]

            }

            var GSheetID = '1_Qb1g5yfNuZNryTGOTiikK5h5YyHLvhCWJJvh6zMt5Y'
            var sheetdata = [];
            var query1 = new
                google.visualization.Query("https://docs.google.com/spreadsheet/ccc?key=" + GSheetID);
            query1.setQuery("");
            query1.send(handleQueryResponse1);

            function handleQueryResponse1(response) {
                var data = response.getDataTable();
                var ColumnNames = []
                var n_col = data.getNumberOfColumns()
                var DataArray = new Array(data.getNumberOfRows());

                for (var col = 0; col < n_col; col++) {
                    ColumnNames.push(data.getColumnLabel(col))
                }
                for (var row = 0; row <
                    data.getNumberOfRows(); row++) {
                    DataArray[row] = new Array(n_col);
                    for (var col = 0; col < n_col; col++) {
                        DataArray[row][col] = data.getValue(row, col);
                    }
                }

                sheetdata = data_lists_to_object_array(data_to_lists(ColumnNames, DataArray))
                console.log(sheetdata)
                var myChart = echarts.init(document.getElementById('chart'));

                var data = [
                    { name: 'Êµ∑Èó®', value: 9 },
                    { name: 'ÈÑÇÂ∞îÂ§öÊñØ', value: 12 },
                    { name: 'ÊãõËøú', value: 12 },
                    { name: 'ËàüÂ±±', value: 12 },
                    { name: 'ÈΩêÈΩêÂìàÂ∞î', value: 14 },
                    { name: 'ÁõêÂüé', value: 15 },
                    { name: 'Ëµ§Â≥∞', value: 16 },
                    { name: 'ÈùíÂ≤õ', value: 18 },
                    { name: '‰π≥Â±±', value: 18 },
                    { name: 'ÈáëÊòå', value: 19 },
                    { name: 'Ê≥âÂ∑û', value: 21 },
                    { name: 'Ëé±Ë•ø', value: 21 },
                    { name: 'Êó•ÁÖß', value: 21 },
                    { name: 'ËÉ∂Âçó', value: 22 },
                    { name: 'ÂçóÈÄö', value: 23 },
                    { name: 'ÊãâËê®', value: 24 },
                    { name: '‰∫ëÊµÆ', value: 24 },
                    { name: 'Ê¢ÖÂ∑û', value: 25 },
                    { name: 'ÊñáÁôª', value: 25 },
                    { name: '‰∏äÊµ∑', value: 25 },
                    { name: 'ÊîÄÊûùËä±', value: 25 },
                    { name: 'Â®ÅÊµ∑', value: 25 },
                    { name: 'ÊâøÂæ∑', value: 25 },
                    { name: 'Âé¶Èó®', value: 26 },
                    { name: 'Ê±ïÂ∞æ', value: 26 },
                    { name: 'ÊΩÆÂ∑û', value: 26 },
                    { name: '‰∏π‰∏ú', value: 27 },
                    { name: 'Â§™‰ªì', value: 27 },
                    { name: 'Êõ≤Èùñ', value: 27 },
                    { name: 'ÁÉüÂè∞', value: 28 },
                    { name: 'Á¶èÂ∑û', value: 29 },
                    { name: 'Áì¶ÊàøÂ∫ó', value: 30 },
                    { name: 'Âç≥Â¢®', value: 30 },
                    { name: 'ÊäöÈ°∫', value: 31 },
                    { name: 'ÁéâÊ∫™', value: 31 },
                    { name: 'Âº†ÂÆ∂Âè£', value: 31 },
                    { name: 'Èò≥Ê≥â', value: 31 },
                    { name: 'Ëé±Â∑û', value: 32 },
                    { name: 'ÊπñÂ∑û', value: 32 },
                    { name: 'Ê±ïÂ§¥', value: 32 },
                    { name: 'ÊòÜÂ±±', value: 33 },
                    { name: 'ÂÆÅÊ≥¢', value: 33 },
                    { name: 'ÊπõÊ±ü', value: 33 },
                    { name: 'Êè≠Èò≥', value: 34 },
                    { name: 'Ëç£Êàê', value: 34 },
                    { name: 'Ëøû‰∫ëÊ∏Ø', value: 35 },
                    { name: 'Ëë´Ëä¶Â≤õ', value: 35 },
                    { name: 'Â∏∏ÁÜü', value: 36 },
                    { name: '‰∏úËéû', value: 36 },
                    { name: 'Ê≤≥Ê∫ê', value: 36 },
                    { name: 'Ê∑ÆÂÆâ', value: 36 },
                    { name: 'Ê≥∞Â∑û', value: 36 },
                    { name: 'ÂçóÂÆÅ', value: 37 },
                    { name: 'Ëê•Âè£', value: 37 },
                    { name: 'ÊÉ†Â∑û', value: 37 },
                    { name: 'Ê±üÈò¥', value: 37 },
                    { name: 'Ëì¨Ëé±', value: 37 },
                    { name: 'Èü∂ÂÖ≥', value: 38 },
                    { name: 'ÂòâÂ≥™ÂÖ≥', value: 38 },
                    { name: 'ÂπøÂ∑û', value: 38 },
                    { name: 'Âª∂ÂÆâ', value: 38 },
                    { name: 'Â§™Âéü', value: 39 },
                    { name: 'Ê∏ÖËøú', value: 39 },
                    { name: '‰∏≠Â±±', value: 39 },
                    { name: 'ÊòÜÊòé', value: 39 },
                    { name: 'ÂØøÂÖâ', value: 40 },
                    { name: 'ÁõòÈî¶', value: 40 },
                    { name: 'ÈïøÊ≤ª', value: 41 },
                    { name: 'Ê∑±Âú≥', value: 41 },
                    { name: 'Áè†Êµ∑', value: 42 },
                    { name: 'ÂÆøËøÅ', value: 43 },
                    { name: 'Âí∏Èò≥', value: 43 },
                    { name: 'ÈìúÂ∑ù', value: 44 },
                    { name: 'Âπ≥Â∫¶', value: 44 },
                    { name: '‰ΩõÂ±±', value: 44 },
                    { name: 'Êµ∑Âè£', value: 44 },
                    { name: 'Ê±üÈó®', value: 45 },
                    { name: 'Á´†‰∏ò', value: 45 },
                    { name: 'ËÇáÂ∫Ü', value: 46 },
                    { name: 'Â§ßËøû', value: 47 },
                    { name: '‰∏¥Ê±æ', value: 47 },
                    { name: 'Âê¥Ê±ü', value: 47 },
                    { name: 'Áü≥Âò¥Â±±', value: 49 },
                    { name: 'Ê≤àÈò≥', value: 50 },
                    { name: 'ËãèÂ∑û', value: 50 },
                    { name: 'ËåÇÂêç', value: 50 },
                    { name: 'ÂòâÂÖ¥', value: 51 },
                    { name: 'ÈïøÊò•', value: 51 },
                    { name: 'ËÉ∂Â∑û', value: 52 },
                    { name: 'Èì∂Â∑ù', value: 52 },
                    { name: 'Âº†ÂÆ∂Ê∏Ø', value: 52 },
                    { name: '‰∏âÈó®Â≥°', value: 53 },
                    { name: 'Èî¶Â∑û', value: 54 },
                    { name: 'ÂçóÊòå', value: 54 },
                    { name: 'Êü≥Â∑û', value: 54 },
                    { name: '‰∏â‰∫ö', value: 54 },
                    { name: 'Ëá™Ë¥°', value: 56 },
                    { name: 'ÂêâÊûó', value: 56 },
                    { name: 'Èò≥Ê±ü', value: 57 },
                    { name: 'Ê≥∏Â∑û', value: 57 },
                    { name: 'Ë•øÂÆÅ', value: 57 },
                    { name: 'ÂÆúÂÆæ', value: 58 },
                    { name: 'ÂëºÂíåÊµ©Áâπ', value: 58 },
                    { name: 'ÊàêÈÉΩ', value: 58 },
                    { name: 'Â§ßÂêå', value: 58 },
                    { name: 'ÈïáÊ±ü', value: 59 },
                    { name: 'Ê°ÇÊûó', value: 59 },
                    { name: 'Âº†ÂÆ∂Áïå', value: 59 },
                    { name: 'ÂÆúÂÖ¥', value: 59 },
                    { name: 'ÂåóÊµ∑', value: 60 },
                    { name: 'Ë•øÂÆâ', value: 61 },
                    { name: 'ÈáëÂùõ', value: 62 },
                    { name: '‰∏úËê•', value: 62 },
                    { name: 'Áâ°‰∏πÊ±ü', value: 63 },
                    { name: 'ÈÅµ‰πâ', value: 63 },
                    { name: 'ÁªçÂÖ¥', value: 63 },
                    { name: 'Êâ¨Â∑û', value: 64 },
                    { name: 'Â∏∏Â∑û', value: 64 },
                    { name: 'ÊΩçÂùä', value: 65 },
                    { name: 'ÈáçÂ∫Ü', value: 66 },
                    { name: 'Âè∞Â∑û', value: 67 },
                    { name: 'Âçó‰∫¨', value: 67 },
                    { name: 'Êª®Â∑û', value: 70 },
                    { name: 'Ë¥µÈò≥', value: 71 },
                    { name: 'Êó†Èî°', value: 71 },
                    { name: 'Êú¨Ê∫™', value: 71 },
                    { name: 'ÂÖãÊãâÁéõ‰æù', value: 72 },
                    { name: 'Ê∏≠Âçó', value: 72 },
                    { name: 'È©¨ÈûçÂ±±', value: 72 },
                    { name: 'ÂÆùÈ∏°', value: 72 },
                    { name: 'ÁÑ¶‰Ωú', value: 75 },
                    { name: 'Âè•ÂÆπ', value: 75 },
                    { name: 'Âåó‰∫¨', value: 79 },
                    { name: 'ÂæêÂ∑û', value: 79 },
                    { name: 'Ë°°Ê∞¥', value: 80 },
                    { name: 'ÂåÖÂ§¥', value: 80 },
                    { name: 'ÁªµÈò≥', value: 80 },
                    { name: '‰πåÈ≤ÅÊú®ÈΩê', value: 84 },
                    { name: 'Êû£Â∫Ñ', value: 84 },
                    { name: 'Êù≠Â∑û', value: 84 },
                    { name: 'Ê∑ÑÂçö', value: 85 },
                    { name: 'ÈûçÂ±±', value: 86 },
                    { name: 'Ê∫ßÈò≥', value: 86 },
                    { name: 'Â∫ìÂ∞îÂãí', value: 86 },
                    { name: 'ÂÆâÈò≥', value: 90 },
                    { name: 'ÂºÄÂ∞Å', value: 90 },
                    { name: 'ÊµéÂçó', value: 92 },
                    { name: 'Âæ∑Èò≥', value: 93 },
                    { name: 'Ê∏©Â∑û', value: 95 },
                    { name: '‰πùÊ±ü', value: 96 },
                    { name: 'ÈÇØÈÉ∏', value: 98 },
                    { name: '‰∏¥ÂÆâ', value: 99 },
                    { name: 'ÂÖ∞Â∑û', value: 99 },
                    { name: 'Ê≤ßÂ∑û', value: 100 },
                    { name: '‰∏¥Ê≤Ç', value: 103 },
                    { name: 'ÂçóÂÖÖ', value: 104 },
                    { name: 'Â§©Ê¥•', value: 105 },
                    { name: 'ÂØåÈò≥', value: 106 },
                    { name: 'Ê≥∞ÂÆâ', value: 112 },
                    { name: 'ËØ∏Êö®', value: 112 },
                    { name: 'ÈÉëÂ∑û', value: 113 },
                    { name: 'ÂìàÂ∞îÊª®', value: 114 },
                    { name: 'ËÅäÂüé', value: 116 },
                    { name: 'ËäúÊπñ', value: 117 },
                    { name: 'ÂîêÂ±±', value: 119 },
                    { name: 'Âπ≥È°∂Â±±', value: 119 },
                    { name: 'ÈÇ¢Âè∞', value: 119 },
                    { name: 'Âæ∑Â∑û', value: 120 },
                    { name: 'ÊµéÂÆÅ', value: 120 },
                    { name: 'ËçÜÂ∑û', value: 127 },
                    { name: 'ÂÆúÊòå', value: 130 },
                    { name: '‰πâ‰πå', value: 132 },
                    { name: '‰∏ΩÊ∞¥', value: 133 },
                    { name: 'Ê¥õÈò≥', value: 134 },
                    { name: 'Áß¶ÁöáÂ≤õ', value: 136 },
                    { name: 'Ê†™Ê¥≤', value: 143 },
                    { name: 'Áü≥ÂÆ∂Â∫Ñ', value: 147 },
                    { name: 'Ëé±Ëäú', value: 148 },
                    { name: 'Â∏∏Âæ∑', value: 152 },
                    { name: '‰øùÂÆö', value: 153 },
                    { name: 'ÊπòÊΩ≠', value: 154 },
                    { name: 'ÈáëÂçé', value: 157 },
                    { name: 'Â≤≥Èò≥', value: 169 },
                    { name: 'ÈïøÊ≤ô', value: 175 },
                    { name: 'Ë°¢Â∑û', value: 177 },
                    { name: 'ÂªäÂùä', value: 193 },
                    { name: 'ËèèÊ≥Ω', value: 194 },
                    { name: 'ÂêàËÇ•', value: 229 },
                    { name: 'Ê≠¶Ê±â', value: 273 },
                    { name: 'Â§ßÂ∫Ü', value: 279 }
                ];
                var geoCoordMap = {
                    'Êµ∑Èó®': [121.15, 31.89],
                    'ÈÑÇÂ∞îÂ§öÊñØ': [109.781327, 39.608266],
                    'ÊãõËøú': [120.38, 37.35],
                    'ËàüÂ±±': [122.207216, 29.985295],
                    'ÈΩêÈΩêÂìàÂ∞î': [123.97, 47.33],
                    'ÁõêÂüé': [120.13, 33.38],
                    'Ëµ§Â≥∞': [118.87, 42.28],
                    'ÈùíÂ≤õ': [120.33, 36.07],
                    '‰π≥Â±±': [121.52, 36.89],
                    'ÈáëÊòå': [102.188043, 38.520089],
                    'Ê≥âÂ∑û': [118.58, 24.93],
                    'Ëé±Ë•ø': [120.53, 36.86],
                    'Êó•ÁÖß': [119.46, 35.42],
                    'ËÉ∂Âçó': [119.97, 35.88],
                    'ÂçóÈÄö': [121.05, 32.08],
                    'ÊãâËê®': [91.11, 29.97],
                    '‰∫ëÊµÆ': [112.02, 22.93],
                    'Ê¢ÖÂ∑û': [116.1, 24.55],
                    'ÊñáÁôª': [122.05, 37.2],
                    '‰∏äÊµ∑': [121.48, 31.22],
                    'ÊîÄÊûùËä±': [101.718637, 26.582347],
                    'Â®ÅÊµ∑': [122.1, 37.5],
                    'ÊâøÂæ∑': [117.93, 40.97],
                    'Âé¶Èó®': [118.1, 24.46],
                    'Ê±ïÂ∞æ': [115.375279, 22.786211],
                    'ÊΩÆÂ∑û': [116.63, 23.68],
                    '‰∏π‰∏ú': [124.37, 40.13],
                    'Â§™‰ªì': [121.1, 31.45],
                    'Êõ≤Èùñ': [103.79, 25.51],
                    'ÁÉüÂè∞': [121.39, 37.52],
                    'Á¶èÂ∑û': [119.3, 26.08],
                    'Áì¶ÊàøÂ∫ó': [121.979603, 39.627114],
                    'Âç≥Â¢®': [120.45, 36.38],
                    'ÊäöÈ°∫': [123.97, 41.97],
                    'ÁéâÊ∫™': [102.52, 24.35],
                    'Âº†ÂÆ∂Âè£': [114.87, 40.82],
                    'Èò≥Ê≥â': [113.57, 37.85],
                    'Ëé±Â∑û': [119.942327, 37.177017],
                    'ÊπñÂ∑û': [120.1, 30.86],
                    'Ê±ïÂ§¥': [116.69, 23.39],
                    'ÊòÜÂ±±': [120.95, 31.39],
                    'ÂÆÅÊ≥¢': [121.56, 29.86],
                    'ÊπõÊ±ü': [110.359377, 21.270708],
                    'Êè≠Èò≥': [116.35, 23.55],
                    'Ëç£Êàê': [122.41, 37.16],
                    'Ëøû‰∫ëÊ∏Ø': [119.16, 34.59],
                    'Ëë´Ëä¶Â≤õ': [120.836932, 40.711052],
                    'Â∏∏ÁÜü': [120.74, 31.64],
                    '‰∏úËéû': [113.75, 23.04],
                    'Ê≤≥Ê∫ê': [114.68, 23.73],
                    'Ê∑ÆÂÆâ': [119.15, 33.5],
                    'Ê≥∞Â∑û': [119.9, 32.49],
                    'ÂçóÂÆÅ': [108.33, 22.84],
                    'Ëê•Âè£': [122.18, 40.65],
                    'ÊÉ†Â∑û': [114.4, 23.09],
                    'Ê±üÈò¥': [120.26, 31.91],
                    'Ëì¨Ëé±': [120.75, 37.8],
                    'Èü∂ÂÖ≥': [113.62, 24.84],
                    'ÂòâÂ≥™ÂÖ≥': [98.289152, 39.77313],
                    'ÂπøÂ∑û': [113.23, 23.16],
                    'Âª∂ÂÆâ': [109.47, 36.6],
                    'Â§™Âéü': [112.53, 37.87],
                    'Ê∏ÖËøú': [113.01, 23.7],
                    '‰∏≠Â±±': [113.38, 22.52],
                    'ÊòÜÊòé': [102.73, 25.04],
                    'ÂØøÂÖâ': [118.73, 36.86],
                    'ÁõòÈî¶': [122.070714, 41.119997],
                    'ÈïøÊ≤ª': [113.08, 36.18],
                    'Ê∑±Âú≥': [114.07, 22.62],
                    'Áè†Êµ∑': [113.52, 22.3],
                    'ÂÆøËøÅ': [118.3, 33.96],
                    'Âí∏Èò≥': [108.72, 34.36],
                    'ÈìúÂ∑ù': [109.11, 35.09],
                    'Âπ≥Â∫¶': [119.97, 36.77],
                    '‰ΩõÂ±±': [113.11, 23.05],
                    'Êµ∑Âè£': [110.35, 20.02],
                    'Ê±üÈó®': [113.06, 22.61],
                    'Á´†‰∏ò': [117.53, 36.72],
                    'ËÇáÂ∫Ü': [112.44, 23.05],
                    'Â§ßËøû': [121.62, 38.92],
                    '‰∏¥Ê±æ': [111.5, 36.08],
                    'Âê¥Ê±ü': [120.63, 31.16],
                    'Áü≥Âò¥Â±±': [106.39, 39.04],
                    'Ê≤àÈò≥': [123.38, 41.8],
                    'ËãèÂ∑û': [120.62, 31.32],
                    'ËåÇÂêç': [110.88, 21.68],
                    'ÂòâÂÖ¥': [120.76, 30.77],
                    'ÈïøÊò•': [125.35, 43.88],
                    'ËÉ∂Â∑û': [120.03336, 36.264622],
                    'Èì∂Â∑ù': [106.27, 38.47],
                    'Âº†ÂÆ∂Ê∏Ø': [120.555821, 31.875428],
                    '‰∏âÈó®Â≥°': [111.19, 34.76],
                    'Èî¶Â∑û': [121.15, 41.13],
                    'ÂçóÊòå': [115.89, 28.68],
                    'Êü≥Â∑û': [109.4, 24.33],
                    '‰∏â‰∫ö': [109.511909, 18.252847],
                    'Ëá™Ë¥°': [104.778442, 29.33903],
                    'ÂêâÊûó': [126.57, 43.87],
                    'Èò≥Ê±ü': [111.95, 21.85],
                    'Ê≥∏Â∑û': [105.39, 28.91],
                    'Ë•øÂÆÅ': [101.74, 36.56],
                    'ÂÆúÂÆæ': [104.56, 29.77],
                    'ÂëºÂíåÊµ©Áâπ': [111.65, 40.82],
                    'ÊàêÈÉΩ': [104.06, 30.67],
                    'Â§ßÂêå': [113.3, 40.12],
                    'ÈïáÊ±ü': [119.44, 32.2],
                    'Ê°ÇÊûó': [110.28, 25.29],
                    'Âº†ÂÆ∂Áïå': [110.479191, 29.117096],
                    'ÂÆúÂÖ¥': [119.82, 31.36],
                    'ÂåóÊµ∑': [109.12, 21.49],
                    'Ë•øÂÆâ': [108.95, 34.27],
                    'ÈáëÂùõ': [119.56, 31.74],
                    '‰∏úËê•': [118.49, 37.46],
                    'Áâ°‰∏πÊ±ü': [129.58, 44.6],
                    'ÈÅµ‰πâ': [106.9, 27.7],
                    'ÁªçÂÖ¥': [120.58, 30.01],
                    'Êâ¨Â∑û': [119.42, 32.39],
                    'Â∏∏Â∑û': [119.95, 31.79],
                    'ÊΩçÂùä': [119.1, 36.62],
                    'ÈáçÂ∫Ü': [106.54, 29.59],
                    'Âè∞Â∑û': [121.420757, 28.656386],
                    'Âçó‰∫¨': [118.78, 32.04],
                    'Êª®Â∑û': [118.03, 37.36],
                    'Ë¥µÈò≥': [106.71, 26.57],
                    'Êó†Èî°': [120.29, 31.59],
                    'Êú¨Ê∫™': [123.73, 41.3],
                    'ÂÖãÊãâÁéõ‰æù': [84.77, 45.59],
                    'Ê∏≠Âçó': [109.5, 34.52],
                    'È©¨ÈûçÂ±±': [118.48, 31.56],
                    'ÂÆùÈ∏°': [107.15, 34.38],
                    'ÁÑ¶‰Ωú': [113.21, 35.24],
                    'Âè•ÂÆπ': [119.16, 31.95],
                    'Âåó‰∫¨': [116.46, 39.92],
                    'ÂæêÂ∑û': [117.2, 34.26],
                    'Ë°°Ê∞¥': [115.72, 37.72],
                    'ÂåÖÂ§¥': [110, 40.58],
                    'ÁªµÈò≥': [104.73, 31.48],
                    '‰πåÈ≤ÅÊú®ÈΩê': [87.68, 43.77],
                    'Êû£Â∫Ñ': [117.57, 34.86],
                    'Êù≠Â∑û': [120.19, 30.26],
                    'Ê∑ÑÂçö': [118.05, 36.78],
                    'ÈûçÂ±±': [122.85, 41.12],
                    'Ê∫ßÈò≥': [119.48, 31.43],
                    'Â∫ìÂ∞îÂãí': [86.06, 41.68],
                    'ÂÆâÈò≥': [114.35, 36.1],
                    'ÂºÄÂ∞Å': [114.35, 34.79],
                    'ÊµéÂçó': [117, 36.65],
                    'Âæ∑Èò≥': [104.37, 31.13],
                    'Ê∏©Â∑û': [120.65, 28.01],
                    '‰πùÊ±ü': [115.97, 29.71],
                    'ÈÇØÈÉ∏': [114.47, 36.6],
                    '‰∏¥ÂÆâ': [119.72, 30.23],
                    'ÂÖ∞Â∑û': [103.73, 36.03],
                    'Ê≤ßÂ∑û': [116.83, 38.33],
                    '‰∏¥Ê≤Ç': [118.35, 35.05],
                    'ÂçóÂÖÖ': [106.110698, 30.837793],
                    'Â§©Ê¥•': [117.2, 39.13],
                    'ÂØåÈò≥': [119.95, 30.07],
                    'Ê≥∞ÂÆâ': [117.13, 36.18],
                    'ËØ∏Êö®': [120.23, 29.71],
                    'ÈÉëÂ∑û': [113.65, 34.76],
                    'ÂìàÂ∞îÊª®': [126.63, 45.75],
                    'ËÅäÂüé': [115.97, 36.45],
                    'ËäúÊπñ': [118.38, 31.33],
                    'ÂîêÂ±±': [118.02, 39.63],
                    'Âπ≥È°∂Â±±': [113.29, 33.75],
                    'ÈÇ¢Âè∞': [114.48, 37.05],
                    'Âæ∑Â∑û': [116.29, 37.45],
                    'ÊµéÂÆÅ': [116.59, 35.38],
                    'ËçÜÂ∑û': [112.239741, 30.335165],
                    'ÂÆúÊòå': [111.3, 30.7],
                    '‰πâ‰πå': [120.06, 29.32],
                    '‰∏ΩÊ∞¥': [119.92, 28.45],
                    'Ê¥õÈò≥': [112.44, 34.7],
                    'Áß¶ÁöáÂ≤õ': [119.57, 39.95],
                    'Ê†™Ê¥≤': [113.16, 27.83],
                    'Áü≥ÂÆ∂Â∫Ñ': [114.48, 38.03],
                    'Ëé±Ëäú': [117.67, 36.19],
                    'Â∏∏Âæ∑': [111.69, 29.05],
                    '‰øùÂÆö': [115.48, 38.85],
                    'ÊπòÊΩ≠': [112.91, 27.87],
                    'ÈáëÂçé': [119.64, 29.12],
                    'Â≤≥Èò≥': [113.09, 29.37],
                    'ÈïøÊ≤ô': [113, 28.21],
                    'Ë°¢Â∑û': [118.88, 28.97],
                    'ÂªäÂùä': [116.7, 39.53],
                    'ËèèÊ≥Ω': [115.480656, 35.23375],
                    'ÂêàËÇ•': [117.27, 31.86],
                    'Ê≠¶Ê±â': [114.31, 30.52],
                    'Â§ßÂ∫Ü': [125.03, 46.58]
                };

                var convertData = function (data) {
                    var res = [];
                    for (var i = 0; i < data.length; i++) {
                        var geoCoord = geoCoordMap[data[i].name];
                        if (geoCoord) {
                            res.push({
                                name: data[i].name,
                                value: geoCoord.concat(data[i].value)
                            });
                        }
                    }
                    return res;
                };

                option = {
                    title: {
                        text: 'ÂÖ®ÂõΩ‰∏ªË¶ÅÂüéÂ∏ÇÁ©∫Ê∞îË¥®Èáè - ÁôæÂ∫¶Âú∞Âõæ',
                        subtext: 'data from PM25.in',
                        sublink: 'http://www.pm25.in',
                        left: 'center'
                    },
                    tooltip: {
                        trigger: 'item'
                    },
                    bmap: {
                        center: [104.114129, 37.550339],
                        zoom: 5,
                        roam: true,
                        mapStyle: {
                            styleJson: [{
                                'featureType': 'water',
                                'elementType': 'all',
                                'stylers': {
                                    'color': '#d1d1d1'
                                }
                            }, {
                                'featureType': 'land',
                                'elementType': 'all',
                                'stylers': {
                                    'color': '#f3f3f3'
                                }
                            }, {
                                'featureType': 'railway',
                                'elementType': 'all',
                                'stylers': {
                                    'visibility': 'off'
                                }
                            }, {
                                'featureType': 'highway',
                                'elementType': 'all',
                                'stylers': {
                                    'color': '#fdfdfd'
                                }
                            }, {
                                'featureType': 'highway',
                                'elementType': 'labels',
                                'stylers': {
                                    'visibility': 'off'
                                }
                            }, {
                                'featureType': 'arterial',
                                'elementType': 'geometry',
                                'stylers': {
                                    'color': '#fefefe'
                                }
                            }, {
                                'featureType': 'arterial',
                                'elementType': 'geometry.fill',
                                'stylers': {
                                    'color': '#fefefe'
                                }
                            }, {
                                'featureType': 'poi',
                                'elementType': 'all',
                                'stylers': {
                                    'visibility': 'off'
                                }
                            }, {
                                'featureType': 'green',
                                'elementType': 'all',
                                'stylers': {
                                    'visibility': 'off'
                                }
                            }, {
                                'featureType': 'subway',
                                'elementType': 'all',
                                'stylers': {
                                    'visibility': 'off'
                                }
                            }, {
                                'featureType': 'manmade',
                                'elementType': 'all',
                                'stylers': {
                                    'color': '#d1d1d1'
                                }
                            }, {
                                'featureType': 'local',
                                'elementType': 'all',
                                'stylers': {
                                    'color': '#d1d1d1'
                                }
                            }, {
                                'featureType': 'arterial',
                                'elementType': 'labels',
                                'stylers': {
                                    'visibility': 'off'
                                }
                            }, {
                                'featureType': 'boundary',
                                'elementType': 'all',
                                'stylers': {
                                    'color': '#fefefe'
                                }
                            }, {
                                'featureType': 'building',
                                'elementType': 'all',
                                'stylers': {
                                    'color': '#d1d1d1'
                                }
                            }, {
                                'featureType': 'label',
                                'elementType': 'labels.text.fill',
                                'stylers': {
                                    'color': '#999999'
                                }
                            }]
                        }
                    },
                    series: [
                        {
                            name: 'pm2.5',
                            type: 'scatter',
                            coordinateSystem: 'bmap',
                            data: convertData(data),
                            symbolSize: function (val) {
                                return val[2] / 10;
                            },
                            label: {
                                formatter: '{b}',
                                position: 'right',
                                show: false
                            },
                            itemStyle: {
                                color: 'purple'
                            },
                            emphasis: {
                                label: {
                                    show: true
                                }
                            }
                        },
                        {
                            name: 'Top 5',
                            type: 'effectScatter',
                            coordinateSystem: 'bmap',
                            data: convertData(data.sort(function (a, b) {
                                return b.value - a.value;
                            }).slice(0, 6)),
                            symbolSize: function (val) {
                                return val[2] / 10;
                            },
                            showEffectOn: 'render',
                            rippleEffect: {
                                brushType: 'stroke'
                            },
                            hoverAnimation: true,
                            label: {
                                formatter: '{b}',
                                position: 'right',
                                show: true
                            },
                            itemStyle: {
                                color: 'purple',
                                shadowBlur: 10,
                                shadowColor: '#333'
                            },
                            zlevel: 1
                        }
                    ]

                };
                myChart.setOption(option);

            };
        };
    </script>
</body>

</html>